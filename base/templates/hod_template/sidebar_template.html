{% load static %}

<!-- Sidebar Start -->
<div class="sidebar pe-4 pb-3">
    <nav class="navbar bg-secondary navbar-dark">

        <a href="{% url 'admin_home' %}" class="navbar-brand mx-4 mb-3">
            <h3 class="text-primary">IIIT Kota</h3>
        </a>

        <div class="d-flex align-items-center ms-4 mb-4">
            <div class="position-relative">
                {% if user.profile_pic == "media/avatar.svg" %}
                <img class="rounded-circle me-lg-2" src="{% static 'img/avatar.svg' %}" alt="" style="width: 40px; height: 40px;">
                {% else %}
                <img class="rounded-circle me-lg-2" src="media/{{user.profile_pic}}" alt="" style="width: 40px; height: 40px;">
                {% endif %}
            </div>

            <div class="ms-3">
                <a href="{% url 'admin_profile' %}"><h6 class="mb-0">{{user.first_name}}</h6></a>
                <span>{{user.username}}</span>
            </div>
        </div>


        <div class="navbar-nav w-100">

            <div class="nav-item">
                {% url 'admin_home' as admin_home %}
                <a href="{% url 'admin_home' %}" class="nav-item nav-link {% if request.path == admin_home %} active {% endif %}"><i class="fa fa-tachometer-alt me-2"></i>Dashboard</a>
            </div>

            <div class="nav-item dropdown">
                {% url 'add_staff' as add_staff %}
                {% url 'manage_staff' as manage_staff %}
                {% url 'edit_staff' staff_id=id as edit_staff %}
                <a href="#" class="nav-link dropdown-toggle {% if request.path == add_staff %} active {% endif %} {% if request.path == manage_staff %} active {% endif %} {% if request.path == edit_staff %} active {% endif %}" data-bs-toggle="dropdown"><i class="bi bi-people-fill me-2"></i>Staff Details</a>
                <div class="dropdown-menu bg-transparent border-0">


                    <a href="{{ add_staff }}" class="dropdown-item {% if request.path == add_staff %} active {% endif %}">Add Staff</a>
                    

                    <a href="{% url 'manage_staff' %}" class="dropdown-item {% if request.path == manage_staff %} active {% endif %} {% if request.path == edit_staff %} active {% endif %}">Manage Staff</a>

                </div>
            </div>

            <div class="nav-item dropdown">
                    {% url 'add_course' as add_course %}
                    {% url 'manage_course' as manage_course %}
                    {% url 'edit_course' course_id=id as edit_course %}
                <a href="#" class="nav-link dropdown-toggle {% if request.path == add_course %} active {% endif %} {% if request.path == manage_course %} active {% endif %} {% if request.path == edit_course %} active {% endif %}" data-bs-toggle="dropdown"><i class="fa fa-book me-2"></i>Course Details</a>
                <div class="dropdown-menu bg-transparent border-0">

                    <a href="{% url 'add_course' %}" class="dropdown-item {% if request.path == add_course %} active {% endif %}">Add Course</a>
                    <a href="{% url 'manage_course' %}" class="dropdown-item {% if request.path == manage_course %} active {% endif %} {% if request.path == edit_course %} active {% endif %}">Manage Course</a>

                </div>
            </div>

            <div class="nav-item dropdown">
                {% url 'add_subject' as add_subject %}
                {% url 'manage_subject' as manage_subject %}
                {% url 'edit_subject' subject_id=id as edit_subject %}
                <a href="#" class="nav-link dropdown-toggle {% if request.path == add_subject %} active {% endif %} {% if request.path == manage_subject %} active {% endif %} {% if request.path == edit_subject %} active {% endif %}" data-bs-toggle="dropdown"><i class="bi bi-book me-2"></i>Subject Details</a>

                <div class="dropdown-menu bg-transparent border-0">

                    <a href="{% url 'add_subject' %}" class="dropdown-item {% if request.path == add_subject %} active {% endif %}">Add Subject</a>
                    <a href="{% url 'manage_subject' %}" class="dropdown-item {% if request.path == manage_subject %} active {% endif %} {% if request.path == edit_subject %} active {% endif %}">Manage Subject</a>

                </div>
            </div>

            <div class="nav-item dropdown">
                    {% url 'manage_session' as manage_session %}
                    {% url 'edit_session' session_id=id as edit_session %}
                    {% url 'add_session' as add_session %}
                <a href="#" class="nav-link dropdown-toggle {% if request.path == manage_session %} active {% endif %} {% if request.path == edit_session %} active {% endif %} {% if request.path == add_session %} active {% endif %}" data-bs-toggle="dropdown"><i class="bi bi-calendar me-2"></i>Session Details</a>

                <div class="dropdown-menu bg-transparent border-0">

                    <a href="{% url 'manage_session' %}" class="dropdown-item {% if request.path == manage_session %} active {% endif %} {% if request.path == edit_session %} active {% endif %}">Manage Session</a>
                    <a href="{% url 'add_session' %}" class="dropdown-item {% if request.path == add_session %} active {% endif %}">Add Session</a>

                </div>
            </div>

            <div class="nav-item dropdown">
                    {% url 'add_student' as add_student %}
                    {% url 'manage_student' as manage_student %}
                    {% url 'edit_student' student_id=id as edit_student %}
                <a href="#" class="nav-link dropdown-toggle {% if request.path == add_student %} active {% endif %} {% if request.path == manage_student %} active {% endif %} {% if request.path == edit_student %} active {% endif %}" data-bs-toggle="dropdown"><i class="fa fa-user-graduate me-2"></i>Student Details</a>
                <div class="dropdown-menu bg-transparent border-0">

                    <a href="{{ add_student }}" class="dropdown-item {% if request.path == add_student %} active {% endif %}">Add Student</a>
                    <a href="{{ manage_student }}" class="dropdown-item {% if request.path == manage_student %} active {% endif %} {% if request.path == edit_student %} active {% endif %}">Manage Student</a>

                </div>
            </div>

            <div class="nav-item">
                {% url 'admin_view_attendance' as admin_view_attendance %}
                <a href="{% url 'admin_view_attendance' %}" class="nav-item nav-link {% if request.path == admin_view_attendance %} active {% endif %}"><i class="fa fa-clipboard-list me-2"></i>View Attendance</a>
            </div>

            <div class="nav-item dropdown">
                {% url 'staff_leave_view' as staff_leave_view %}
                {% url 'student_leave_view' as student_leave_view %}
                <a href="#" class="nav-link dropdown-toggle {% if request.path == staff_leave_view %} active {% endif %} {% if request.path == student_leave_view %} active {% endif %}" data-bs-toggle="dropdown"><i class="bi bi-envelope me-2"></i>Leave Application</a>
                <div class="dropdown-menu bg-transparent border-0">

                    <a href="{% url 'staff_leave_view' %}" class="dropdown-item {% if request.path == staff_leave_view %} active {% endif %}">Staff Leave</a>
                    <a href="{% url 'student_leave_view' %}" class="dropdown-item {% if request.path == student_leave_view %} active {% endif %}">Student Leave</a>

                </div>
            </div>

            <div class="nav-item dropdown">
                {% url 'staff_feedback_message' as staff_feedback_message %}
                {% url 'student_feedback_message' as student_feedback_message %}
                <a href="#" class="nav-link dropdown-toggle {% if request.path == staff_feedback_message %} active {% endif %} {% if request.path == student_feedback_message %} active {% endif %}" data-bs-toggle="dropdown"><i class="bi bi-envelope me-2"></i>Feedback</a>
                <div class="dropdown-menu bg-transparent border-0">

                    <a href="{% url 'staff_feedback_message' %}" class="dropdown-item {% if request.path == staff_feedback_message %} active {% endif %}">Staff Feedback</a>
                    <a href="{% url 'student_feedback_message' %}" class="dropdown-item {% if request.path == student_feedback_message %} active {% endif %}">Student Feedback</a>

                </div>
            </div>

        </div>
    </nav>
</div>
<!-- Sidebar End -->